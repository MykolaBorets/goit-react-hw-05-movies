"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[659],{913:function(e,t,n){n.d(t,{$w:function(){return d},Df:function(){return o},Pg:function(){return l},f6:function(){return u},z1:function(){return h}});var r=n(413),s=n(294),a="https://api.themoviedb.org/3/movie/",i={api_key:"2032b26aa9b0c559d2e14e504dcab073",language:"en-US",include_adult:!1},c=function(e){throw console.error("Request failed:",e),e},o=function(){var e=(0,r.Z)((0,r.Z)({},i),{},{page:"1",per_page:"20"});return s.Z.get("https://api.themoviedb.org/3/trending/movie/day",{params:e}).catch(c)},l=function(e){var t=(0,r.Z)({},i);return s.Z.get("".concat(a,"/").concat(e),{params:t}).catch(c)},d=function(e){var t=(0,r.Z)({},i);return s.Z.get("".concat(a,"/").concat(e,"/credits"),{params:t}).catch(c)},u=function(e){var t=(0,r.Z)({},i);return s.Z.get("".concat(a,"/").concat(e,"/reviews"),{params:t}).catch(c)},h=function(e){var t=(0,r.Z)((0,r.Z)({},i),{},{query:e,page:"1"});return s.Z.get("https://api.themoviedb.org/3/search/movie",{params:t}).catch(c)}},659:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(861),s=n(439),a=n(757),i=n.n(a),c=n(791),o=n(689),l=n(87),d=n(913),u="movie-details_button__vry-T",h="movie-details_img__UYao0",p="movie-details_info__avR+w",v="movie-details_img_block__rqaZP",m="movie-details_text_block__n89WB",f="movie-details_title__0HjVA",x="movie-details_subtitle__mitJY",j=n(184),_=function(){var e,t=(0,c.useState)(),n=(0,s.Z)(t,2),a=n[0],_=n[1],g=(0,c.useState)(""),Z=(0,s.Z)(g,2),b=Z[0],w=Z[1],k=(0,c.useState)(!1),N=(0,s.Z)(k,2),S=N[0],y=N[1],C=(0,c.useState)(null),F=(0,s.Z)(C,2),O=F[0],U=F[1],q=(0,o.UO)().id,D=(null===(e=(0,o.TH)().state)||void 0===e?void 0:e.from)||"/",L=(0,o.s0)();(0,c.useEffect)((function(){if(q){var e=function(){var e=(0,r.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,(0,d.Pg)(q);case 4:t=e.sent,n=t.data,_(n),r=new Date(Date.parse(n.release_date)),w(r.getFullYear()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),U(e.t0.message);case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}}),[q]);return(0,j.jsxs)("div",{children:[S&&(0,j.jsx)("p",{children:"...Loading"}),O&&(0,j.jsxs)("p",{children:["Error: ",O]}),(0,j.jsxs)("button",{className:u,onClick:function(){return L(D)},type:"button",children:["\u2190"," Go back"]}),a&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)("div",{className:v,children:(0,j.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(a.poster_path),alt:a.title,className:h})}),(0,j.jsxs)("div",{className:m,children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("p",{className:f,children:[a.title," (",b,")"]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("span",{children:"User Score:"})," ",(10*a.vote_average).toFixed(2),"%"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:x,children:"Overview"}),(0,j.jsx)("p",{children:a.overview})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:x,children:"Genres"}),(0,j.jsx)(j.Fragment,{children:a.poster_path&&(0,j.jsxs)("p",{children:[(0,j.jsx)("span",{})," ",a.genres.map((function(e,t){return(0,j.jsxs)("span",{children:[e.name,t!==a.genres.length-1&&" "]},e.id)}))]})})]})]})]}),(0,j.jsx)("p",{className:x,children:"Additional information"}),(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:(0,j.jsx)(l.OL,{to:"cast",state:{from:D},children:"Cast"})}),(0,j.jsx)("li",{children:(0,j.jsx)(l.OL,{to:"reviews",state:{from:D},children:"Reviews"})}),(0,j.jsxs)(c.Suspense,{children:[" ",(0,j.jsx)(o.j3,{})]})]})]})]})},g=function(){return(0,j.jsx)("div",{children:(0,j.jsx)(_,{})})}}}]);
//# sourceMappingURL=659.af4a9021.chunk.js.map